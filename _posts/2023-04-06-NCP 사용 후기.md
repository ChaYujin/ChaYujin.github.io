---
layout: post
title: NCP 사용 후기
author: YujinCha
categories: story
tags: CI/CD jenkins NCP
sidebar: []
---
## NCP 사용 계기

지난 11월부터 f-lab멘토링을 했는데, 멘토링 과정에서 어느 정도 학습진도가 나가면 프로젝트를 진행하게 된다.<br>
프로젝트를 하면서 CI/CD구축도 하고, 성능테스트도 진행한다.<br>
이를 위해서 서버 구성이 필요했는데, f-lab에서 NaverCloud 크레딧을 제공해주어 NCP로 서버구성을 하게 되었다.<br>

## NCP 서버 구축 

CI/CD 구축하는데, 생각보다 시간이 오래 걸렸다.<br>
풀타임으로 투입하지 못해서 짬을 내어 구성해야 했기때문에 오래걸리기도 했고, 맨땅에 헤딩도 많이 해서 서버와 젠킨스 설정도 몇번 갈아엎었다.<br>
최종적인 CI/CD 구성도는 아래와 같다.
![CICD구성도](https://user-images.githubusercontent.com/19955465/230276236-7af529e0-b771-4688-9b80-cf959c9c1412.png)
NCP서버로 총 3대의 서버를 만들어 구성하였다.<br>
1. CI/CD서버 (Jenkins서버)<br>
2. 배포서버<br>
3. DB서버<br>

처음에는 젠킨스 설정도 다 해보겠다고 젠킨스 서버까지 만들어 3대의 서버를 만들어 구성했었다.<br>
그러다 같은팀의 멘티분과 함께 서버를 구성하였고, 최종적으로 팀 멘티분은 젠킨스서버를 나는 배포서버와 DB서버를 세팅하여 서버를 구성하게 되었다.<br>
현재 이렇게 구성한지 1달반 정도 되었는데 크레딧이 10만원을 넘어갔다.<br>
2주정도 서버를 3대로 구성하여 사용했었고 1달정도 서버 2대로 서비스를 이용했다.<br>


## NCP 서버 사양 결정
서버 생성시에 서버 사양을 선택할 수 있는데, 최소사양이 아닌 Compact로 생성하였다.<br>
참고로 서버 생성을 하기위해서 가이드를 따로 찾아봐야 한다. 서버 생성 페이지에 그 선택하는 내용이 어떤 정보로 세팅이 되는건지에 대한 설명이 많이 부족했다.
* 서버타입에 대한 정보는 여기에 있다. 
  * 스펙 : https://guide.ncloud-docs.com/docs/server-spec
  * 특징 : https://www.ncloud.com/product/compute/server


